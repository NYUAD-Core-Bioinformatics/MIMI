<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Command Reference &mdash; Mass Spectrometry Tool 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="mimi package" href="mimi_package.html" />
    <link rel="prev" title="Architecture Design" href="architecture.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Mass Spectrometry Tool
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture Design</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hmdb-database">HMDB Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#downloading-hmdb-data">Downloading HMDB Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extracting-metabolites">Extracting Metabolites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mimi-hmdb-extract">mimi_hmdb_extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mimi-kegg-extract">mimi_kegg_extract</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mimi-cache-create">mimi_cache_create</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mimi-cache-dump">mimi_cache_dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mimi-mass-analysis">mimi_mass_analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mimi_package.html">mimi package</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mass Spectrometry Tool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Command Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/command_reference.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="command-reference">
<h1>Command Reference<a class="headerlink" href="#command-reference" title="Permalink to this headline"></a></h1>
<p>This section provides detailed information about all command-line tools available in MIMI, including their purpose, when to use them, and what results to expect.</p>
<section id="hmdb-database">
<h2>HMDB Database<a class="headerlink" href="#hmdb-database" title="Permalink to this headline"></a></h2>
<p>The Human Metabolome Database (HMDB) is a comprehensive resource containing detailed information about metabolites found in the human body. MIMI provides tools to work with HMDB data, particularly for extracting and processing metabolite information.</p>
<section id="downloading-hmdb-data">
<h3>Downloading HMDB Data<a class="headerlink" href="#downloading-hmdb-data" title="Permalink to this headline"></a></h3>
<ol class="arabic simple">
<li><p>Visit the HMDB downloads page: <a class="reference external" href="https://hmdb.ca/downloads">https://hmdb.ca/downloads</a></p></li>
<li><p>Download the complete metabolites XML file (named “hmdb_metabolites.xml”)</p></li>
<li><p>This file contains detailed information about each metabolite, including:</p>
<ul class="simple">
<li><p>Chemical formulas</p></li>
<li><p>Names and synonyms</p></li>
<li><p>Identifiers (HMDB ID, InChI, SMILES)</p></li>
<li><p>Molecular weights</p></li>
<li><p>Other chemical properties</p></li>
</ul>
</li>
</ol>
</section>
<section id="extracting-metabolites">
<h3>Extracting Metabolites<a class="headerlink" href="#extracting-metabolites" title="Permalink to this headline"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">mimi_hmdb_extract</span></code> command processes the HMDB XML file to extract relevant metabolite information and save it in a tab-separated format.</p>
</section>
</section>
<section id="mimi-hmdb-extract">
<h2>mimi_hmdb_extract<a class="headerlink" href="#mimi-hmdb-extract" title="Permalink to this headline"></a></h2>
<p>Purpose: Extracts metabolite information from the Human Metabolome Database (HMDB) XML file and converts it to a TSV format compatible with MIMI.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Human-specific metabolite database</p></li>
<li><p>Requires downloading complete HMDB XML file</p></li>
<li><p>Includes detailed metabolite information</p></li>
<li><p>Validates chemical formulas</p></li>
<li><p>Filters by molecular weight range</p></li>
</ul>
<p>When to use:</p>
<ul class="simple">
<li><p>Analyzing human samples</p></li>
<li><p>Studying human metabolism</p></li>
<li><p>Need detailed metabolite information</p></li>
<li><p>Working with clinical samples</p></li>
</ul>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mimi_hmdb_extract</span> <span class="o">--</span><span class="n">help</span>
<span class="n">usage</span><span class="p">:</span> <span class="n">mimi_hmdb_extract</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">x</span> <span class="n">XML</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">MIN_MASS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span> <span class="n">MAX_MASS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">]</span>

<span class="n">Required</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="o">-</span><span class="n">x</span> <span class="n">XML</span><span class="p">,</span> <span class="o">--</span><span class="n">xml</span> <span class="n">XML</span>     <span class="n">Path</span> <span class="n">to</span> <span class="n">HMDB</span> <span class="n">metabolites</span> <span class="n">XML</span> <span class="n">file</span>

<span class="n">Optional</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="o">-</span><span class="n">l</span> <span class="n">MIN_MASS</span><span class="p">,</span> <span class="o">--</span><span class="nb">min</span><span class="o">-</span><span class="n">mass</span> <span class="n">MIN_MASS</span>
                          <span class="n">Lower</span> <span class="n">bound</span> <span class="n">of</span> <span class="n">molecular</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">Da</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">no</span> <span class="n">limit</span><span class="p">)</span>
                          <span class="n">Filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="n">lighter</span> <span class="n">than</span> <span class="n">this</span> <span class="n">mass</span>
                          <span class="n">Example</span><span class="p">:</span> <span class="o">-</span><span class="n">l</span> <span class="mi">100</span> <span class="n">filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="n">Da</span>
    <span class="o">-</span><span class="n">u</span> <span class="n">MAX_MASS</span><span class="p">,</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">mass</span> <span class="n">MAX_MASS</span>
                          <span class="n">Upper</span> <span class="n">bound</span> <span class="n">of</span> <span class="n">molecular</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">Da</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">no</span> <span class="n">limit</span><span class="p">)</span>
                          <span class="n">Filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="n">heavier</span> <span class="n">than</span> <span class="n">this</span> <span class="n">mass</span>
                          <span class="n">Example</span><span class="p">:</span> <span class="o">-</span><span class="n">u</span> <span class="mi">500</span> <span class="n">filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="o">&gt;</span> <span class="mi">500</span> <span class="n">Da</span>
    <span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">,</span> <span class="o">--</span><span class="n">output</span> <span class="n">OUTPUT</span>
                          <span class="n">Output</span> <span class="n">TSV</span> <span class="n">file</span> <span class="n">path</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">metabolites</span><span class="o">.</span><span class="n">tsv</span><span class="p">)</span>
</pre></div>
</div>
<p>Expected Output:
- TSV file with columns: ID, Name, Formula, Mass
- Only includes metabolites within specified mass range
- Validated chemical formulas
- Human-specific metabolites</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract metabolites between 100-500 Da</span>
<span class="n">mimi_hmdb_extract</span> <span class="o">-</span><span class="n">x</span> <span class="n">hmdb_metabolites</span><span class="o">.</span><span class="n">xml</span> <span class="o">-</span><span class="n">l</span> <span class="mi">100</span> <span class="o">-</span><span class="n">u</span> <span class="mi">500</span> <span class="o">-</span><span class="n">o</span> <span class="n">hmdb_compounds</span><span class="o">.</span><span class="n">tsv</span>
</pre></div>
</div>
</section>
<section id="mimi-kegg-extract">
<h2>mimi_kegg_extract<a class="headerlink" href="#mimi-kegg-extract" title="Permalink to this headline"></a></h2>
<p>Purpose: Extracts compound information from the KEGG database using its REST API. Can retrieve compounds within a specific molecular weight range or from a list of compound IDs.</p>
<p>Key Features:</p>
<ul class="simple">
<li><p>Broad compound coverage</p></li>
<li><p>Uses KEGG REST API</p></li>
<li><p>Includes pathway information</p></li>
<li><p>Can extract by mass range or specific IDs</p></li>
<li><p>Handles KEGG’s 10,000 result limit</p></li>
</ul>
<p>When to use:</p>
<ul class="simple">
<li><p>Analyzing general biological samples</p></li>
<li><p>Need broad compound coverage</p></li>
<li><p>Studying metabolic pathways</p></li>
<li><p>Working with non-human samples</p></li>
</ul>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mimi_kegg_extract</span> <span class="o">--</span><span class="n">help</span>
<span class="n">usage</span><span class="p">:</span> <span class="n">mimi_kegg_extract</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">MIN_MASS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">u</span> <span class="n">MAX_MASS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">COMPOUND_IDS</span><span class="p">]</span>
                        <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">]</span>

<span class="n">Optional</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="o">-</span><span class="n">l</span> <span class="n">MIN_MASS</span><span class="p">,</span> <span class="o">--</span><span class="nb">min</span><span class="o">-</span><span class="n">mass</span> <span class="n">MIN_MASS</span>
                          <span class="n">Lower</span> <span class="n">bound</span> <span class="n">of</span> <span class="n">molecular</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">Da</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">no</span> <span class="n">limit</span><span class="p">)</span>
                          <span class="n">Filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="n">lighter</span> <span class="n">than</span> <span class="n">this</span> <span class="n">mass</span>
                          <span class="n">Example</span><span class="p">:</span> <span class="o">-</span><span class="n">l</span> <span class="mi">100</span> <span class="n">filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="n">Da</span>
    <span class="o">-</span><span class="n">u</span> <span class="n">MAX_MASS</span><span class="p">,</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">mass</span> <span class="n">MAX_MASS</span>
                          <span class="n">Upper</span> <span class="n">bound</span> <span class="n">of</span> <span class="n">molecular</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">Da</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">no</span> <span class="n">limit</span><span class="p">)</span>
                          <span class="n">Filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="n">heavier</span> <span class="n">than</span> <span class="n">this</span> <span class="n">mass</span>
                          <span class="n">Example</span><span class="p">:</span> <span class="o">-</span><span class="n">u</span> <span class="mi">500</span> <span class="n">filters</span> <span class="n">out</span> <span class="n">compounds</span> <span class="o">&gt;</span> <span class="mi">500</span> <span class="n">Da</span>
    <span class="o">-</span><span class="n">i</span> <span class="n">COMPOUND_IDS</span><span class="p">,</span> <span class="o">--</span><span class="nb">input</span> <span class="n">COMPOUND_IDS</span>
                          <span class="n">Input</span> <span class="n">TSV</span> <span class="n">file</span> <span class="n">containing</span> <span class="n">KEGG</span> <span class="n">compound</span> <span class="n">IDs</span>
    <span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">,</span> <span class="o">--</span><span class="n">output</span> <span class="n">OUTPUT</span>
                          <span class="n">Output</span> <span class="n">TSV</span> <span class="n">file</span> <span class="n">path</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">kegg_compounds</span><span class="o">.</span><span class="n">tsv</span><span class="p">)</span>
</pre></div>
</div>
<p>Expected Output:</p>
<ul class="simple">
<li><p>TSV file with columns: ID, Name, Formula, Mass</p></li>
<li><p>Compounds within specified mass range</p></li>
<li><p>Pathway information when available</p></li>
<li><p>Broad coverage of biological compounds</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract compounds between 100-500 Da</span>
<span class="n">mimi_kegg_extract</span> <span class="o">-</span><span class="n">l</span> <span class="mi">100</span> <span class="o">-</span><span class="n">u</span> <span class="mi">500</span> <span class="o">-</span><span class="n">o</span> <span class="n">kegg_compounds</span><span class="o">.</span><span class="n">tsv</span>

<span class="c1"># Extract specific compounds by ID</span>
<span class="n">mimi_kegg_extract</span> <span class="o">-</span><span class="n">i</span> <span class="n">compound_ids</span><span class="o">.</span><span class="n">tsv</span> <span class="o">-</span><span class="n">o</span> <span class="n">kegg_compounds</span><span class="o">.</span><span class="n">tsv</span>
</pre></div>
</div>
</section>
<section id="mimi-cache-create">
<h2>mimi_cache_create<a class="headerlink" href="#mimi-cache-create" title="Permalink to this headline"></a></h2>
<p>Purpose: Creates precomputed cache files containing molecular mass data and isotope patterns for compounds. These cache files significantly speed up analysis by avoiding repeated calculations.</p>
<p>When to use:
- After updating your compound database
- Switching between different isotope configurations
- Starting a new analysis project
- Need to optimize analysis speed</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mimi_cache_create</span> <span class="o">--</span><span class="n">help</span>
<span class="n">usage</span><span class="p">:</span> <span class="n">mimi_cache_create</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="n">JSON</span><span class="p">]</span> <span class="o">-</span><span class="n">d</span> <span class="n">DBTSV</span> <span class="p">[</span><span class="n">DBTSV</span> <span class="o">...</span><span class="p">]</span> <span class="o">-</span><span class="n">i</span> <span class="p">{</span><span class="n">pos</span><span class="p">,</span><span class="n">neg</span><span class="p">}</span>
                        <span class="o">-</span><span class="n">c</span> <span class="n">DBBINARY</span>

<span class="n">Required</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="o">-</span><span class="n">d</span> <span class="n">DBTSV</span> <span class="p">[</span><span class="n">DBTSV</span> <span class="o">...</span><span class="p">],</span> <span class="o">--</span><span class="n">dbfile</span> <span class="n">DBTSV</span> <span class="p">[</span><span class="n">DBTSV</span> <span class="o">...</span><span class="p">]</span>
                          <span class="n">File</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">with</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">compounds</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
    <span class="o">-</span><span class="n">n</span><span class="p">,</span> <span class="o">--</span><span class="n">noise</span> <span class="n">CUTOFF</span>    <span class="n">Noise</span> <span class="n">cutoff</span> <span class="n">threshold</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="mf">1e5</span><span class="p">)</span><span class="o">.</span> <span class="n">Ignores</span> <span class="n">isotope</span> <span class="n">variants</span> <span class="k">with</span> <span class="n">relative</span> <span class="n">abundance</span> <span class="n">below</span> <span class="mi">1</span><span class="o">/</span><span class="n">CUTOFF</span>
    <span class="o">-</span><span class="n">i</span> <span class="p">{</span><span class="n">pos</span><span class="p">,</span><span class="n">neg</span><span class="p">},</span> <span class="o">--</span><span class="n">ion</span> <span class="p">{</span><span class="n">pos</span><span class="p">,</span><span class="n">neg</span><span class="p">}</span>
                          <span class="n">Ionization</span> <span class="n">mode</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
    <span class="o">-</span><span class="n">c</span> <span class="n">DBBINARY</span><span class="p">,</span> <span class="o">--</span><span class="n">cache</span> <span class="n">DBBINARY</span>
                          <span class="n">Binary</span> <span class="n">DB</span> <span class="n">output</span> <span class="n">file</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>

<span class="n">Optional</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="o">-</span><span class="n">l</span> <span class="n">JSON</span><span class="p">,</span> <span class="o">--</span><span class="n">label</span> <span class="n">JSON</span>
                          <span class="n">JSON</span> <span class="n">file</span> <span class="n">specifying</span> <span class="n">labeled</span> <span class="n">atoms</span> <span class="n">configuration</span>
</pre></div>
</div>
<p>Expected Output:</p>
<ul class="simple">
<li><p>Binary cache file (.pkl)</p></li>
<li><p>Precomputed masses for all compounds</p></li>
<li><p>Isotope patterns (natural or labeled)</p></li>
<li><p>Optimized for fast searching</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create natural abundance cache</span>
<span class="n">mimi_cache_create</span> <span class="o">-</span><span class="n">i</span> <span class="n">neg</span> <span class="o">-</span><span class="n">d</span> <span class="n">data</span><span class="o">/</span><span class="n">processed</span><span class="o">/</span><span class="n">KEGGDB</span><span class="o">.</span><span class="n">tsv</span> <span class="o">-</span><span class="n">c</span> <span class="n">db_nat</span>

<span class="c1"># Create C13-labeled cache</span>
<span class="n">mimi_cache_create</span> <span class="o">-</span><span class="n">i</span> <span class="n">neg</span> <span class="o">-</span><span class="n">l</span> <span class="n">data</span><span class="o">/</span><span class="n">processed</span><span class="o">/</span><span class="n">C13_95</span><span class="o">.</span><span class="n">json</span> <span class="o">-</span><span class="n">d</span> <span class="n">data</span><span class="o">/</span><span class="n">processed</span><span class="o">/</span><span class="n">KEGGDB</span><span class="o">.</span><span class="n">tsv</span> <span class="o">-</span><span class="n">c</span> <span class="n">db_13C</span>
</pre></div>
</div>
</section>
<section id="mimi-cache-dump">
<h2>mimi_cache_dump<a class="headerlink" href="#mimi-cache-dump" title="Permalink to this headline"></a></h2>
<p>Purpose: Dumps the contents of a MIMI cache file to a human-readable TSV format. Useful for inspecting cache files and verifying their contents.</p>
<p>When to use:</p>
<ul class="simple">
<li><p>Debugging analysis issues</p></li>
<li><p>Checking compound coverage</p></li>
<li><p>Verifying isotope patterns</p></li>
<li><p>Understanding cache structure</p></li>
</ul>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mimi_cache_dump</span> <span class="o">--</span><span class="n">help</span>
<span class="n">usage</span><span class="p">:</span> <span class="n">mimi_cache_dump</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">n</span> <span class="n">NUM_COMPOUNDS</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="n">NUM_ISOTOPES</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">]</span>
                    <span class="n">cache_file</span>

<span class="n">Required</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="n">cache_file</span>            <span class="n">Input</span> <span class="n">cache</span> <span class="n">file</span> <span class="p">(</span><span class="o">.</span><span class="n">pkl</span><span class="p">)</span>

<span class="n">Optional</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="o">-</span><span class="n">n</span> <span class="n">NUM_COMPOUNDS</span><span class="p">,</span> <span class="o">--</span><span class="n">num</span><span class="o">-</span><span class="n">compounds</span> <span class="n">NUM_COMPOUNDS</span>
                          <span class="n">Number</span> <span class="n">of</span> <span class="n">compounds</span> <span class="n">to</span> <span class="n">output</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="nb">all</span><span class="p">)</span>
    <span class="o">-</span><span class="n">i</span> <span class="n">NUM_ISOTOPES</span><span class="p">,</span> <span class="o">--</span><span class="n">num</span><span class="o">-</span><span class="n">isotopes</span> <span class="n">NUM_ISOTOPES</span>
                          <span class="n">Number</span> <span class="n">of</span> <span class="n">isotopes</span> <span class="n">per</span> <span class="n">compound</span> <span class="n">to</span> <span class="n">output</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="nb">all</span><span class="p">)</span>
    <span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">,</span> <span class="o">--</span><span class="n">output</span> <span class="n">OUTPUT</span>
                          <span class="n">Output</span> <span class="n">file</span> <span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
<p>Expected Output:</p>
<ul class="simple">
<li><p>Cache metadata (creation date, version)</p></li>
<li><p>Creation parameters</p></li>
<li><p>Compound information:</p>
<ul>
<li><p>ID and name</p></li>
<li><p>Chemical formula</p></li>
<li><p>Mass and relative abundance</p></li>
<li><p>Isotope variants with their masses and abundances</p></li>
</ul>
</li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Dump first 5 compounds with 2 isotopes each</span>
<span class="n">mimi_cache_dump</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">-</span><span class="n">i</span> <span class="mi">2</span> <span class="n">outdir</span><span class="o">/</span><span class="n">db_nat</span><span class="o">.</span><span class="n">pkl</span> <span class="o">-</span><span class="n">o</span> <span class="n">cache_contents</span><span class="o">.</span><span class="n">tsv</span>
</pre></div>
</div>
</section>
<section id="mimi-mass-analysis">
<h2>mimi_mass_analysis<a class="headerlink" href="#mimi-mass-analysis" title="Permalink to this headline"></a></h2>
<p>Purpose: Analyzes mass spectrometry data by comparing sample masses against precomputed molecular masses stored in cache files.</p>
<p>When to use:</p>
<ul class="simple">
<li><p>After creating/updating caches</p></li>
<li><p>Processing new samples</p></li>
<li><p>Comparing different conditions</p></li>
<li><p>Validating results</p></li>
</ul>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mimi_mass_analysis</span> <span class="o">--</span><span class="n">help</span>
<span class="n">usage</span><span class="p">:</span> <span class="n">mimi_mass_analysis</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="o">-</span><span class="n">p</span> <span class="n">PPM</span> <span class="o">-</span><span class="n">vp</span> <span class="n">VPPM</span> <span class="o">-</span><span class="n">c</span> <span class="n">DBBINARY</span> <span class="p">[</span><span class="n">DBBINARY</span> <span class="o">...</span><span class="p">]</span> <span class="o">-</span><span class="n">s</span>
                          <span class="n">SAMPLE</span> <span class="p">[</span><span class="n">SAMPLE</span> <span class="o">...</span><span class="p">]</span> <span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span>

<span class="n">Required</span> <span class="n">Parameters</span><span class="p">:</span>
    <span class="o">-</span><span class="n">p</span> <span class="n">PPM</span><span class="p">,</span> <span class="o">--</span><span class="n">ppm</span> <span class="n">PPM</span>     <span class="n">Parts</span> <span class="n">per</span> <span class="n">million</span> <span class="k">for</span> <span class="n">the</span> <span class="n">mono</span> <span class="n">isotopic</span> <span class="n">mass</span> <span class="n">of</span>
                          <span class="n">chemical</span> <span class="n">formula</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
    <span class="o">-</span><span class="n">vp</span> <span class="n">VPPM</span>              <span class="n">Parts</span> <span class="n">per</span> <span class="n">million</span> <span class="k">for</span> <span class="n">verification</span> <span class="n">of</span> <span class="n">isotopes</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
    <span class="o">-</span><span class="n">c</span> <span class="n">DBBINARY</span> <span class="p">[</span><span class="n">DBBINARY</span> <span class="o">...</span><span class="p">],</span> <span class="o">--</span><span class="n">cache</span> <span class="n">DBBINARY</span> <span class="p">[</span><span class="n">DBBINARY</span> <span class="o">...</span><span class="p">]</span>
                          <span class="n">Binary</span> <span class="n">DB</span> <span class="nb">input</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
    <span class="o">-</span><span class="n">s</span> <span class="n">SAMPLE</span> <span class="p">[</span><span class="n">SAMPLE</span> <span class="o">...</span><span class="p">],</span> <span class="o">--</span><span class="n">sample</span> <span class="n">SAMPLE</span> <span class="p">[</span><span class="n">SAMPLE</span> <span class="o">...</span><span class="p">]</span>
                          <span class="n">Input</span> <span class="n">sample</span> <span class="n">file</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
    <span class="o">-</span><span class="n">o</span> <span class="n">OUTPUT</span><span class="p">,</span> <span class="o">--</span><span class="n">output</span> <span class="n">OUTPUT</span>
                          <span class="n">Output</span> <span class="n">file</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span>
</pre></div>
</div>
<p>Expected Output:</p>
<ul class="simple">
<li><p>TSV file with columns:
- CF: Chemical formula of the matched compound
- ID: Compound identifier from the original database
- Name: Compound name
- C: Number of carbon atoms
- H: Number of hydrogen atoms
- N: Number of nitrogen atoms
- O: Number of oxygen atoms
- P: Number of phosphorus atoms
- S: Number of sulfur atoms
- db_mass_nat: Calculated mass for natural abundance(User specified)
- db_mass_C13: Calculated mass for C13-labeled (User specified)
- mass_measured: Observed mass in the sample
- error_ppm: Parts per million difference between calculated and observed mass
- intensity: Signal intensity in the sample
- iso_count: Number of isotopes detected</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Analyze single sample with natural abundance cache</span>
<span class="n">mimi_mass_analysis</span> <span class="o">-</span><span class="n">p</span> <span class="mf">1.0</span> <span class="o">-</span><span class="n">vp</span> <span class="mf">1.0</span> <span class="o">-</span><span class="n">c</span> <span class="n">db_nat</span> <span class="o">-</span><span class="n">s</span> <span class="n">sample</span><span class="o">.</span><span class="n">asc</span> <span class="o">-</span><span class="n">o</span> <span class="n">results</span><span class="o">.</span><span class="n">tsv</span>

<span class="c1"># Analyze multiple samples with multiple caches</span>
<span class="n">mimi_mass_analysis</span> <span class="o">-</span><span class="n">p</span> <span class="mf">1.0</span> <span class="o">-</span><span class="n">vp</span> <span class="mf">1.0</span> <span class="o">-</span><span class="n">c</span> <span class="n">db_nat</span> <span class="n">db_13C</span> <span class="o">-</span><span class="n">s</span> <span class="n">sample1</span><span class="o">.</span><span class="n">asc</span> <span class="n">sample2</span><span class="o">.</span><span class="n">asc</span> <span class="o">-</span><span class="n">o</span> <span class="n">batch_results</span><span class="o">.</span><span class="n">tsv</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="architecture.html" class="btn btn-neutral float-left" title="Architecture Design" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mimi_package.html" class="btn btn-neutral float-right" title="mimi package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Nabil Rahiman.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>